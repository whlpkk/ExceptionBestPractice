window.TOOLS||(TOOLS={});
(function(){function b(){if(!l&&(l=!0,-1==window.location.pathname.indexOf("/char_reenc")))(function(a,m){function f(){var c=b.getBoundingClientRect().width;c/d>540&&(c=540*d);c/=10;b.style.fontSize=c+"px";k.rem=a.rem=c}var c,g=a.document,b=g.documentElement,i=g.querySelector('meta[name="viewport"]'),h=g.querySelector('meta[name="flexible"]'),d=0,e=0,k=m.flexible||(m.flexible={});if(i){if(h=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/))e=parseFloat(h[1]),d=parseInt(1/e)}else if(h){var j=
h.getAttribute("content");j&&(h=j.match(/initial\-dpr=([\d\.]+)/),j=j.match(/maximum\-dpr=([\d\.]+)/),h&&(d=parseFloat(h[1]),e=parseFloat((1/d).toFixed(2))),j&&(d=parseFloat(j[1]),e=parseFloat((1/d).toFixed(2))))}if(!d&&!e)e=(a.navigator.appVersion.match(/android/gi),a.navigator.appVersion.match(/iphone/gi)),h=a.devicePixelRatio,d=e?h>=3&&(!d||d>=3)?3:h>=2&&(!d||d>=2)?2:1:1,e=1/d;b.setAttribute("data-dpr",d);i||(i=g.createElement("meta"),i.setAttribute("name","viewport"),i.setAttribute("content",
"initial-scale="+e+", maximum-scale="+e+", minimum-scale="+e+", user-scalable=no"),b.firstElementChild?b.firstElementChild.appendChild(i):(e=g.createElement("div"),e.appendChild(i),g.write(e.innerHTML)));a.addEventListener("resize",function(){clearTimeout(c);c=setTimeout(f,300)},!1);a.addEventListener("orientationchange",function(){clearTimeout(c);c=setTimeout(f,300)},!1);a.addEventListener("pageshow",function(a){a.persisted&&(clearTimeout(c),c=setTimeout(f,300))},!1);"complete"===g.readyState?g.body.style.fontSize=
12*d+"px":g.addEventListener("DOMContentLoaded",function(){g.body.style.fontSize=12*d+"px"},!1);f();k.dpr=a.dpr=d;k.refreshRem=f;k.rem2px=function(a){var c=parseFloat(a)*this.rem;"string"==typeof a&&a.match(/rem$/)&&(c+="px");return c};k.px2rem=function(a){var c=parseFloat(a)/this.rem;"string"==typeof a&&a.match(/px$/)&&(c+="rem");return c}})(window,window.lib||(window.lib={})),BAIY.IO.LoadCss("/css/mobile.css")}var l=!1;BAIY.MOB.IsOnAndroid()&&-1!=navigator.userAgent.indexOf("HUAWEI")&&(window.devicePixelRatio>=
3&&b(),window.screen.width<window.screen.height&&window.devicePixelRatio>2&&b());if(BAIY.MOB.IsMobileRuntime()){var n=nInitWinW=window.screen.width,o=nInitWinH=window.screen.height;if(90==window.orientation||-90==window.orientation)n=nInitWinW>nInitWinH?nInitWinW:nInitWinH,o=nInitWinW>nInitWinH?nInitWinH:nInitWinW;(n<980||o<350)&&b()}TOOLS.WxAuth=function(a){var a=a||{},b=BAIY.IO.NewXhr();b.open("POST","/FFC/WX/Auth?cp="+Math.random(),!0);b.setRequestHeader("Content-Type","text/ini");b.setRequestHeader("Accept",
"text/ini");b.onreadystatechange=function(){if(4==b.readyState&&200==b.status&&b.responseText.length)try{if(a.fnCb){var c=new BAIY.CConfig;c.OpenIni(b.responseText);var f={stAppID:c.ReadString("","AppID"),stNonce:c.ReadString("","Nonce"),stTimestamp:c.ReadQWord("","Timestamp"),stSign:c.ReadString("","Sign")};a.fnCb(f)}}catch(l){}};var f=new BAIY.CConfig;f.WriteString("","URL",a.stUrl||document.location.href);b.send(f.SaveIni())};TOOLS.RegistWxShare=function(a){a=a||{};if(BAIY.PLAT.IsInWeixinEnv()){var b=
function(){var b=a.link||document.location.href;TOOLS.WxAuth({stUrl:b,fnCb:function(c){wx.config({appId:c.stAppID,timestamp:c.stTimestamp,nonceStr:c.stNonce,signature:c.stSign,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone"]});wx.ready(function(){wx.onMenuShareTimeline({title:a.title,link:b,imgUrl:a.imgUrl,success:a.success,cancel:a.cancel});wx.onMenuShareAppMessage({title:a.title,desc:a.desc,link:b,imgUrl:a.imgUrl,success:a.success,cancel:a.cancel});wx.onMenuShareQQ({title:a.title,
desc:a.desc,link:b,imgUrl:a.imgUrl,success:a.success,cancel:a.cancel});wx.onMenuShareQZone({title:a.title,desc:a.desc,link:b,imgUrl:a.imgUrl,success:a.success,cancel:a.cancel})});wx.error(function(){})}})};BAIY.IO.LoadJsFromOtherSite("http://res.wx.qq.com/open/js/jweixin-1.2.0.js",b)||b()}}})();
(function(){setTimeout(function(){try{var b=window.location.pathname;("/"==b||"/index.htm"==b||-1!=b.indexOf("/mSOA.htm")||-1!=b.indexOf("/mSOA_en.htm")||-1!=b.indexOf("/hpWeb.htm")||-1!=b.indexOf("/hpWeb_en.htm")||-1!=b.indexOf("/char_reenc"))&&TOOLS.RegistWxShare({title:document.title,desc:document.getElementById("idMetaDescription").getAttribute("content"),imgUrl:window.location.origin+"/image/logo.png"})}catch(l){}},0)})();
